---
title: "Exercises Day 1 Part 2"
author: "Thomas Kuo"
date: "`r Sys.Date()`"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## Loading the dataset

You use the `##` to create a header. Use the header to indicate the question you are answering. After the header, in this space here, annotate your answer, telling us what you did.

```{r}
# Here is where your R code goes. ``` opens the code chunk, followed by {r}. Then ``` closes the chunk. When you 'knit' the file, the codes will evaluate.

gapminder <- read.csv(here::here("data/gapminder5.csv"), stringsAsFactors=FALSE)
```

## If Statement
Use an if() statement to print a suitable message reporting whether there are any records from 2002 in the gapminder dataset. Now do the same for 2012.

Hint: use the any function.
```{r Testing Years For If}
test_year <- 2002
if (any(gapminder$year == test_year)) {
    print(paste0("There is data for ", test_year))
} else {
        print(paste0("There are no records in ",test_year))
}

test_year <- 2012
if (any(gapminder$year == test_year)) {
    print(paste0("There is data for ", test_year))
} else {
        print(paste0("There are no records in ",test_year))
}
```
## Loop and If Statements
Write a script that finds the mean life expectancy by country for countries whose population is below the mean for the dataset

Write a script that loops through the gapminder data by continent and prints out whether the mean life expectancy is smaller than 50, between 50 and 70, or greater than 70.
```{r Loop and If}
dataset_mean <- mean(gapminder$pop)
for (i in unique(gapminder$country)) {
    temp_cpop <- mean(gapminder$pop[gapminder$country == i]) #country population
    temp_cmLE <- mean(gapminder$lifeExp[gapminder$country == i]) #mean country life expectancy
    
    if (temp_cpop < dataset_mean) {
        print(paste0("The mean life expectancy for ", i, " is ", temp_cmLE))
    } else {
        print(paste0("The population for ", i, " is higher than the mean population of the data set"))
    }
}
```

Write a script that loops through the gapminder data by continent and prints out whether the mean life expectancy is smaller than 50, between 50 and 70, or greater than 70.
```{r Loop and If Part 2}
for (i in unique(gapminder$continent)) {
    temp_cmLE <- mean(gapminder$lifeExp[gapminder$continent == i]) #mean continent life expectancy
    
    if (temp_cpop < dataset_mean) {
        print(paste0("The mean life expectancy for ", i, " is ", temp_cmLE))
    } else {
        print(paste0("The population for ", i, " is higher than the mean population of the data set"))
    }
}
```

## Including Plots

You can also embed plots, for example:

```{r aTho}
plot(pressure)
```

Note that the `echo = FALSE` parameter was added to the code chunk to prevent printing of the R code that generated the plot.
